{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/asmit rai/Downloads/CodeCollab/CodeCollab/code-collab/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"C:/Users/asmit rai/Downloads/CodeCollab/CodeCollab/code-collab/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/asmit rai/Downloads/CodeCollab/CodeCollab/code-collab/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/asmit rai/Downloads/CodeCollab/CodeCollab/code-collab/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/asmit rai/Downloads/CodeCollab/CodeCollab/code-collab/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\asmit rai\\\\Downloads\\\\CodeCollab\\\\CodeCollab\\\\code-collab\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{Component}from\"react\";import\"./Compiler.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Compiler=/*#__PURE__*/function(_Component){_inherits(Compiler,_Component);var _super=_createSuper(Compiler);function Compiler(props){var _this;_classCallCheck(this,Compiler);_this=_super.call(this,props);_this.input=function(event){event.preventDefault();_this.setState({input:event.target.value});localStorage.setItem('input',event.target.value);};_this.userInput=function(event){event.preventDefault();_this.setState({user_input:event.target.value});};_this.language=function(event){event.preventDefault();_this.setState({language_id:event.target.value});localStorage.setItem('language_Id',event.target.value);};_this.submit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var outputText,response,jsonResponse,jsonGetSolution,url,getSolution,output,error,compilation_error;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();outputText=document.getElementById(\"output\");outputText.innerHTML=\"\";outputText.innerHTML+=\"Creating Submission ...\\n\";_context.next=6;return fetch(\"https://judge0-ce.p.rapidapi.com/submissions\",{method:\"POST\",headers:{\"x-rapidapi-host\":\"judge0-ce.p.rapidapi.com\",\"x-rapidapi-key\":\"8086616a45mshb1a1acbf1e95a2dp1eaf0djsnaa765b1fb185\",\"content-type\":\"application/json\",accept:\"application/json\"},body:JSON.stringify({source_code:_this.state.input,stdin:_this.state.user_input,language_id:_this.state.language_id})});case 6:response=_context.sent;outputText.innerHTML+=\"Submission Created ...\\n\";_context.next=10;return response.json();case 10:jsonResponse=_context.sent;jsonGetSolution={status:{description:\"Queue\"},stderr:null,compile_output:null};case 12:if(!(jsonGetSolution.status.description!==\"Accepted\"&&jsonGetSolution.stderr==null&&jsonGetSolution.compile_output==null)){_context.next=24;break;}outputText.innerHTML=\"Creating Submission ... \\nSubmission Created ...\\nChecking Submission Status\\nstatus : \".concat(jsonGetSolution.status.description);if(!jsonResponse.token){_context.next=22;break;}url=\"https://judge0-ce.p.rapidapi.com/submissions/\".concat(jsonResponse.token,\"?base64_encoded=true\");_context.next=18;return fetch(url,{method:\"GET\",headers:{\"x-rapidapi-host\":\"judge0-ce.p.rapidapi.com\",\"x-rapidapi-key\":\"8086616a45mshb1a1acbf1e95a2dp1eaf0djsnaa765b1fb185\",\"content-type\":\"application/json\"}});case 18:getSolution=_context.sent;_context.next=21;return getSolution.json();case 21:jsonGetSolution=_context.sent;case 22:_context.next=12;break;case 24:if(jsonGetSolution.stdout){output=atob(jsonGetSolution.stdout);outputText.innerHTML=\"\";outputText.innerHTML+=\"Results :\\n\".concat(output,\"\\nExecution Time : \").concat(jsonGetSolution.time,\" Secs\\nMemory used : \").concat(jsonGetSolution.memory,\" bytes\");}else if(jsonGetSolution.stderr){error=atob(jsonGetSolution.stderr);outputText.innerHTML=\"\";outputText.innerHTML+=\"\\n Error :\".concat(error);}else{compilation_error=atob(jsonGetSolution.compile_output);outputText.innerHTML=\"\";outputText.innerHTML+=\"\\n Error :\".concat(compilation_error);}case 25:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.state={input:props.copiedCode||'',// Initialize input with copiedCode if provided\noutput:'',language_id:localStorage.getItem('language_Id')||2,user_input:''};return _this;}_createClass(Compiler,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(prevProps.code!==this.props.code){this.setState({input:this.props.code});}}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row container-fluid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-6 ml-4 \",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"solution \",children:/*#__PURE__*/_jsxs(\"span\",{className:\"badge badge-info heading mt-2 \",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-code fa-fw fa-lg\"}),\" Code Here\"]})}),/*#__PURE__*/_jsx(\"textarea\",{required:true,name:\"solution\",id:\"source\",onChange:this.input,className:\" source\",value:this.state.input}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"btn btn-danger ml-2 mr-2 \",onClick:this.submit,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-cog fa-fw\"}),\" Run\"]}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"tags\",className:\"mr-1\",children:/*#__PURE__*/_jsx(\"b\",{className:\"heading\",children:\"Language:\"})}),/*#__PURE__*/_jsxs(\"select\",{value:this.state.language_id,onChange:this.language,id:\"tags\",className:\"form-control form-inline mb-2 language\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"54\",children:\"C++\"}),/*#__PURE__*/_jsx(\"option\",{value:\"50\",children:\"C\"}),/*#__PURE__*/_jsx(\"option\",{value:\"62\",children:\"Java\"}),/*#__PURE__*/_jsx(\"option\",{value:\"71\",children:\"Python\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"badge badge-info heading my-2 \",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exclamation fa-fw fa-md\"})}),/*#__PURE__*/_jsx(\"textarea\",{id:\"output\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 ml-5\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"badge badge-primary heading my-2 \",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user fa-fw fa-md\"}),\" User Input\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"textarea\",{id:\"input\",onChange:this.userInput,value:this.state.user_input})]})]});}}]);return Compiler;}(Component);export{Compiler as default};","map":{"version":3,"sources":["C:/Users/asmit rai/Downloads/CodeCollab/CodeCollab/code-collab/src/components/Compiler.js"],"names":["React","Component","Compiler","props","input","event","preventDefault","setState","target","value","localStorage","setItem","userInput","user_input","language","language_id","submit","e","outputText","document","getElementById","innerHTML","fetch","method","headers","accept","body","JSON","stringify","source_code","state","stdin","response","json","jsonResponse","jsonGetSolution","status","description","stderr","compile_output","token","url","getSolution","stdout","output","atob","time","memory","error","compilation_error","copiedCode","getItem","prevProps","code"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./Compiler.css\";\n\nexport default class Compiler extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      input: props.copiedCode || '', // Initialize input with copiedCode if provided\n      output: '',\n      language_id: localStorage.getItem('language_Id') || 2,\n      user_input: '',\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.code !== this.props.code) {\n      this.setState({ input: this.props.code });\n    }\n  }\n\n  input = (event) => {\n    event.preventDefault();\n    this.setState({ input: event.target.value });\n    localStorage.setItem('input', event.target.value);\n  };\n\n  userInput = (event) => {\n    event.preventDefault();\n    this.setState({ user_input: event.target.value });\n  };\n\n  language = (event) => {\n    event.preventDefault();\n    this.setState({ language_id: event.target.value });\n    localStorage.setItem('language_Id', event.target.value);\n  };\n\n  submit = async (e) => {\n    e.preventDefault();\n    let outputText = document.getElementById(\"output\");\n    outputText.innerHTML = \"\";\n    outputText.innerHTML += \"Creating Submission ...\\n\";\n    const response = await fetch(\n      \"https://judge0-ce.p.rapidapi.com/submissions\",\n      {\n        method: \"POST\",\n        headers: {\n          \"x-rapidapi-host\": \"judge0-ce.p.rapidapi.com\",\n          \"x-rapidapi-key\": \"8086616a45mshb1a1acbf1e95a2dp1eaf0djsnaa765b1fb185\", \n          \"content-type\": \"application/json\",\n          accept: \"application/json\",\n        },\n        body: JSON.stringify({\n          source_code: this.state.input,\n          stdin: this.state.user_input,\n          language_id: this.state.language_id,\n        }),\n      }\n    );\n    outputText.innerHTML += \"Submission Created ...\\n\";\n    const jsonResponse = await response.json();\n    let jsonGetSolution = {\n      status: { description: \"Queue\" },\n      stderr: null,\n      compile_output: null,\n    };\n\n    while (\n      jsonGetSolution.status.description !== \"Accepted\" &&\n      jsonGetSolution.stderr == null &&\n      jsonGetSolution.compile_output == null\n    ) {\n      outputText.innerHTML = `Creating Submission ... \\nSubmission Created ...\\nChecking Submission Status\\nstatus : ${jsonGetSolution.status.description}`;\n      if (jsonResponse.token) {\n        let url = `https://judge0-ce.p.rapidapi.com/submissions/${jsonResponse.token}?base64_encoded=true`;\n\n        const getSolution = await fetch(url, {\n          method: \"GET\",\n          headers: {\n            \"x-rapidapi-host\": \"judge0-ce.p.rapidapi.com\",\n            \"x-rapidapi-key\": \"8086616a45mshb1a1acbf1e95a2dp1eaf0djsnaa765b1fb185\", \n            \"content-type\": \"application/json\",\n          },\n        });\n\n        jsonGetSolution = await getSolution.json();\n      }\n    }\n    if (jsonGetSolution.stdout) {\n      const output = atob(jsonGetSolution.stdout);\n      outputText.innerHTML = \"\";\n      outputText.innerHTML += `Results :\\n${output}\\nExecution Time : ${jsonGetSolution.time} Secs\\nMemory used : ${jsonGetSolution.memory} bytes`;\n    } else if (jsonGetSolution.stderr) {\n      const error = atob(jsonGetSolution.stderr);\n      outputText.innerHTML = \"\";\n      outputText.innerHTML += `\\n Error :${error}`;\n    } else {\n      const compilation_error = atob(jsonGetSolution.compile_output);\n      outputText.innerHTML = \"\";\n      outputText.innerHTML += `\\n Error :${compilation_error}`;\n    }\n  };\n\n  render() {\n    return (\n      <>\n        <div className=\"row container-fluid\">\n          <div className=\"col-6 ml-4 \">\n            <label htmlFor=\"solution \">\n              <span className=\"badge badge-info heading mt-2 \">\n                <i className=\"fas fa-code fa-fw fa-lg\"></i> Code Here\n              </span>\n            </label>\n            <textarea\n              required\n              name=\"solution\"\n              id=\"source\"\n              onChange={this.input}\n              className=\" source\"\n              value={this.state.input}\n            ></textarea>\n\n            <button\n              type=\"submit\"\n              className=\"btn btn-danger ml-2 mr-2 \"\n              onClick={this.submit}\n            >\n              <i className=\"fas fa-cog fa-fw\"></i> Run\n            </button>\n\n            <label htmlFor=\"tags\" className=\"mr-1\">\n              <b className=\"heading\">Language:</b>\n            </label>\n            <select\n              value={this.state.language_id}\n              onChange={this.language}\n              id=\"tags\"\n              className=\"form-control form-inline mb-2 language\"\n            >\n              <option value=\"54\">C++</option>\n              <option value=\"50\">C</option>\n              <option value=\"62\">Java</option>\n              <option value=\"71\">Python</option>\n            </select>\n          </div>\n          <div className=\"col-5\">\n            <div>\n              <span className=\"badge badge-info heading my-2 \">\n                <i className=\"fas fa-exclamation fa-fw fa-md\"></i> \n              </span>\n              <textarea id=\"output\"></textarea>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"mt-2 ml-5\">\n          <span className=\"badge badge-primary heading my-2 \">\n            <i className=\"fas fa-user fa-fw fa-md\"></i> User Input\n          </span>\n          <br />\n          <textarea\n            id=\"input\"\n            onChange={this.userInput}\n            value={this.state.user_input}\n          ></textarea>\n        </div>\n      </>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}